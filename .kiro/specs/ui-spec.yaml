name: Ghost UI Converter Spec
version: 1.0.0
description: |
  Specification for the Ghost UI chamber - converts legacy Bootstrap/jQuery
  UI code into modern React components with Tailwind CSS.

inputs:
  - name: html_content
    type: string
    description: Legacy HTML markup
  
  - name: js_content
    type: string
    description: jQuery/vanilla JS code (optional)
  
  - name: css_content
    type: string
    description: Custom CSS styles (optional)
  
  - name: conversion_options
    type: object
    properties:
      component_style: enum [functional, class]
      state_management: enum [useState, useReducer, zustand]
      typescript: boolean
      preserve_ids: boolean

outputs:
  - name: react_components
    type: component[]
    structure:
      name: string
      file_path: string
      code: string
      dependencies: string[]
      props_interface: object
  
  - name: tailwind_config
    type: object
    description: Custom Tailwind configuration if needed
  
  - name: migration_notes
    type: string[]
    description: Manual steps or considerations

conversion_rules:
  bootstrap_to_tailwind:
    container: "container mx-auto px-4"
    row: "flex flex-wrap -mx-4"
    "col-md-6": "w-full md:w-1/2 px-4"
    "col-md-4": "w-full md:w-1/3 px-4"
    "col-md-3": "w-full md:w-1/4 px-4"
    "btn btn-primary": "px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
    "btn btn-secondary": "px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"
    "card": "bg-white rounded-lg shadow-md overflow-hidden"
    "card-body": "p-6"
    "form-control": "w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
    "alert alert-success": "p-4 bg-green-100 border border-green-400 text-green-700 rounded"
    "alert alert-danger": "p-4 bg-red-100 border border-red-400 text-red-700 rounded"
    "navbar": "bg-gray-800 text-white"
    "d-flex": "flex"
    "justify-content-center": "justify-center"
    "align-items-center": "items-center"
    "text-center": "text-center"
    "mt-3": "mt-3"
    "mb-3": "mb-3"
    "p-3": "p-3"

  jquery_to_react:
    - pattern: "\\$\\(['\"]#(\\w+)['\"]\\)\\.click\\(function\\(\\)"
      replacement: "onClick handler with useState"
      note: "Convert to onClick prop with event handler"
    
    - pattern: "\\$\\(['\"]#(\\w+)['\"]\\)\\.val\\(\\)"
      replacement: "useState + value prop"
      note: "Convert to controlled component"
    
    - pattern: "\\$\\(['\"]#(\\w+)['\"]\\)\\.hide\\(\\)"
      replacement: "conditional rendering"
      note: "Use {condition && <Component />}"
    
    - pattern: "\\$\\(['\"]#(\\w+)['\"]\\)\\.show\\(\\)"
      replacement: "conditional rendering"
      note: "Use {condition && <Component />}"
    
    - pattern: "\\$\\.ajax\\("
      replacement: "fetch or axios"
      note: "Convert to modern HTTP client in useEffect"

  component_extraction:
    - Identify reusable UI patterns
    - Extract forms as separate components
    - Create button components for common actions
    - Separate layout from content components
    - Extract modals and dialogs

file_generation:
  parser: "src/lib/ui/parser.ts"
  transformer: "src/lib/ui/transformer.ts"
  component_generator: "src/lib/ui/component-generator.ts"
  tailwind_mapper: "src/lib/ui/tailwind-mapper.ts"
  template: "src/lib/ui/templates/component.tsx"

style_rules:
  - Use functional components with hooks
  - Export TypeScript interfaces for props
  - Include prop validation
  - Add accessibility attributes
  - Use semantic HTML elements
  - Follow React best practices
  - Maintain responsive design
  - Preserve original functionality

quality_checks:
  - Verify all Bootstrap classes are converted
  - Ensure jQuery functionality is replicated
  - Check responsive breakpoints
  - Validate accessibility
  - Test interactive elements
